{% comment %}
	FIX:
		- Sin redundancia de codigo:
			tener diferentes bloques de navegacion por cada pagina puede sujetarse 
			a errores de dedo y/o desactualizacion de los datos. Tenerlos en un 
			solo lugar es rapido y facil de actualizar en todos las paginas.

		- Vistas uniformes:
			El administrador debe de ser capaz de acceder al menu de administrador
			aun cuando se encuentre en una vista perteneciente a la secretaria.

	TODO:
		+ Evaluar el rol del usuario para mostrar solo los links a los que puede acceder.
		+ Para el menu expandido, agregar el acordeon.
{% endcomment %}

<div class="large-2 columns hide-on-print no-padding white-bg" style="border: 1px solid #d8d8d8;">
	<div class="no-margin no-padding">
		{% load staticfiles %}
		<a href="/inicio-secretaria"><div class="sidebar-image" style="background-image: url('{% static 'img/SIIAD-logo.png' %}');"></div></a>

		{# barra mas pequeña (sin acordeon). pantalllas inferiores a 1024px #}
		<div class="no-margin no-padding hidden-for-large-up">
			<ul class="no-bullet no-margin sidebar-nav lt-large">
				{% if request.session.rol > 0 %}
					<li><a href="/inicio-secretaria">Secretaria</a></li>
				{% endif %}
				{% if request.session.rol > 1 %}
					<li><a href="/inicio-jefedep">Jefe de Departamento</a></li>
				{% endif %}
				{% if request.session.rol > 2 %}
					<li><a href="/inicio-administrador">Administrador</a></li>
				{% endif %}
			</ul>
		</div>

		<div class="no-margin no-padding show-for-large-up">
			<ul class="accordion no-bullet no-margin no-padding" data-accordion>
			{% if request.session.rol > 0 %}
			 	<li class="accordion-navigation">
			    <a href="#panel1">Secretaria</a>
			    <div id="panel1" class="content no-margin no-padding">
			    	<div class="accordion-link">
			    		<a class="accordion-link" href="/inicio-secretaria">Inicio Secretaria</a>
			    	</div>
					{% for x in lista_departamentos %}
						<ul class="accordion inner-accordion" data-accordion>
							<li class="accordion-navigation">
			   				<a href="#panel1{{x.nick}}">{{x.nombre}}</a>
			   				<div id="panel1{{x.nick}}" class="content no-margin no-padding accordion-link">
								<a class="accordion-link" href="/{{x.nick}}/listas/tCompleto">Listas-Tiempo Completo</a>
								<a class="accordion-link" href="/{{x.nick}}/listas/tMedio">Listas-Medio Tiempo</a>
								<a class="accordion-link" href="/{{x.nick}}/form-incidencias">Ver Incidencias</a>
								<a class="accordion-link" href="/{{x.nick}}/form-reporte-incidencias">Reportar Incidencia</a>
			   				</div>
			   				</li>
						</ul>
					{% endfor %}
					<ul class="accordion inner-accordion" data-accordion>
						<li class="accordion-navigation">
						<a href="#panel1estadisticas">Estadisticas</a>
		   				<div id="panel1estadisticas" class="content no-margin no-padding accordion-link">
		   					<a class="accordion-link" href="/estadisticas-profesor">Estadísticas Profesor</a>
				    		<a class="accordion-link" href="/estadisticas-materia">Estadísticas Materia</a>
				    		<a class="accordion-link" href="/estadisticas-ciclo">Estadísticas Ciclo</a>
				    		{% for x in lista_departamentos %}
				    			<a class="accordion-link" href="/{{x.nick}}/estadisticas-departamento">Estadísticas {{x}}</a>
				    		{% endfor %}
			    		</div>
			    		</li>
			    	</ul>
			    </div>
			  </li>
			{% endif %}
			{% if request.session.rol > 1 %}
			  	<li class="accordion-navigation">
			    <a href="#panel2">Jefe de Departamento</a>
			    <div id="panel2" class="content no-margin no-padding">
			    	<div class="accordion-link">
			    		<a class="accordion-link" href="/inicio-jefedep">Inicio Jefe Departamento</a>
			    		<a class="accordion-link" href="/nueva_secretaria">Crear Nueva Secretaria</a>
			    		<a class="accordion-link" href="/historicos">Históricos</a>
			    	</div>
					{% for x in lista_departamentos %}
						<ul class="accordion inner-accordion" data-accordion>
							<li class="accordion-navigation">
			   				<a href="#panel2{{x.nick}}">{{x.nombre}}</a>
			   				<div id="panel2{{x.nick}}" class="content no-margin no-padding accordion-link">
	   							<a class="accordion-link" href="/{{x.nick}}/sistema/csv">Subir CSV</a>
	   							<a class="accordion-link" href="/{{x.nick}}/ver_cursos">Consulta/Modificar Cursos</a>
								<a class="accordion-link" href="/{{x.nick}}/form-incidencias">Reporte Asistencia</a>
								<a class="accordion-link" href="/{{x.nick}}/listas/form-reporte-incidencias">Gestionar Encargados</a>
			   				</div>
			   				</li>
						</ul>
					{% endfor %}
			    </div>
			  </li>
			{% endif %}
			{% if request.session.rol > 2 %}
			  	<li class="accordion-navigation">
			    <a href="#panel3">Administrador</a>
			    <div id="panel3" class="content no-margin no-padding">
			    	<div class="accordion-link">
			    		<a class="accordion-link" href="/inicio-administrador">Inicio Administrador</a>
			    		<a class="accordion-link" href="/nuevo_jefeDep">Crear Jefe de Departamento</a>
			    		<a class="accordion-link" href="/nuevo_departamento">Crear Nuevo Departamento</a>
			    	</div>
					<ul class="accordion inner-accordion" data-accordion>
						<li class="accordion-navigation">
						<a href="#panel1estadisticas">Cambiar Jefe de Departamento</a>
		   				<div id="panel1estadisticas" class="content no-margin no-padding accordion-link">
		   					{% for x in lista_departamentos %}
				    			<a class="accordion-link" href="/{{x.nick}}/modificar/jefe-departamento">{{x}}</a>
				    		{% endfor %}
		   				</div>
		   				</li>
		   			</ul>
			    </div>
			  </li>
			{% endif %}
			</ul>
		</div>
	</div>
</div>
